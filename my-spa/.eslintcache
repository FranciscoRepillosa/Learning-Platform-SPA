[{"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\index.js":"1","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\reportWebVitals.js":"2","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\App.js":"3","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\CoursePage\\CoursePage.component.jsx":"4","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\HomePage\\HomePage.component.jsx":"5","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\header\\header.component.jsx":"6","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\course-card\\course-card.component.jsx":"7","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\search-box\\search-box.component.jsx":"8","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\CheckoutPage\\CheckoutPage.component.jsx":"9","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\Checkout-form\\checkout-form.component.jsx":"10","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\payment-card\\payment-card.component.jsx":"11","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\SubmitCoursePage\\SubmitCoursePage.component.jsx":"12","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\input\\input.component.jsx":"13"},{"size":555,"mtime":1617385736665,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"15"},{"size":957,"mtime":1618522739168,"results":"17","hashOfConfig":"15"},{"size":2527,"mtime":1618064432349,"results":"18","hashOfConfig":"15"},{"size":1510,"mtime":1617828589772,"results":"19","hashOfConfig":"15"},{"size":235,"mtime":1618523685441,"results":"20","hashOfConfig":"15"},{"size":564,"mtime":1617828306205,"results":"21","hashOfConfig":"15"},{"size":987,"mtime":1612103175434,"results":"22","hashOfConfig":"15"},{"size":700,"mtime":1618522509393,"results":"23","hashOfConfig":"15"},{"size":7079,"mtime":1618520789270,"results":"24","hashOfConfig":"15"},{"size":666,"mtime":1617917048968,"results":"25","hashOfConfig":"15"},{"size":3140,"mtime":1618693373400,"results":"26","hashOfConfig":"15"},{"size":634,"mtime":1618690501181,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1r9m967",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\index.js",[],["56","57"],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\reportWebVitals.js",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\App.js",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\CoursePage\\CoursePage.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\HomePage\\HomePage.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\header\\header.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\course-card\\course-card.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\search-box\\search-box.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\CheckoutPage\\CheckoutPage.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\Checkout-form\\checkout-form.component.jsx",["58","59"],"import React, {useState} from 'react';\r\nimport {useStripe, useElements, CardElement} from '@stripe/react-stripe-js';\r\nimport CardSection  from '../payment-card/payment-card.component';\r\n\r\nconst axios = require(\"axios\").default;\r\n\r\nexport default function CheckoutForm ({courseId}) {\r\n\r\n  const [nameInput, setNameInput] = useState(\"\");\r\n  const [emailInput, setEmailInput] = useState(\"\");\r\n  const [passwordInput, setPasswordInput] = useState(\"\");\r\n  const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const handleInputChange = (event) => {\r\n    switch (event.target.name) {\r\n      case \"name\":\r\n        setNameInput(event.target.value)\r\n        break;\r\n\r\n    case \"email\":\r\n        setEmailInput(event.target.value)\r\n        break;\r\n\r\n    case \"password\":\r\n        setPasswordInput(event.target.value)\r\n        break;\r\n\r\n     case \"confirmPassword\":\r\n        setConfirmPasswordInput(event.target.value)\r\n        break;\r\n    }\r\n  };\r\n  \r\n     const handleSubmit = (event) => {\r\n    // We don't want to let default form submission happen here,\r\n    // which would refresh the page.\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      // Stripe.js has not yet loaded.\r\n      console.log(\"stripe not loaded\");\r\n      // Make sure to disable form submission until Stripe.js has loaded.\r\n      return;\r\n    }\r\n    console.log(\"creating the client_secret\");\r\n    let clientSecret;\r\n\r\n    fetch(`http://localhost:4321/checkout/${courseId}}`)\r\n    .then(response => response.json())\r\n    .then(async clientSecret => {\r\n      \r\n      const result = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n          billing_details: {\r\n            name: 'Jenny Rosen',\r\n          },\r\n        }\r\n      });\r\n  \r\n      if (result.error) {\r\n        // Show error to your customer (e.g., insufficient funds)\r\n        console.log(result.error.message);\r\n      } else {\r\n        // The payment has been processed!\r\n        if (result.paymentIntent.status === 'succeeded') {\r\n            console.log(\"oh yeah baby, we did it ouo ouo ouo ouo\");\r\n          // Show a success message to your customer\r\n            console.log(event.target.value);\r\n            console.log(\"nameInput \",nameInput);\r\n            console.log(\"emailInput \",{emailInput});\r\n            console.log(\"passwordInput \",{passwordInput});\r\n            console.log(\"confirmPasswordInput \",{ confirmPasswordInput });\r\n\r\n            const userData = {\r\n              name: nameInput,\r\n              email: emailInput,\r\n              password: passwordInput,\r\n              confirmPassword: confirmPasswordInput\r\n            };\r\n\r\n            \r\n            console.log(courseId);\r\n            axios({\r\n              method: \"post\",\r\n              url: \"http://localhost:4321/user/signup\",\r\n              data: userData\r\n            })\r\n            .then(res => {\r\n              console.log(res);\r\n              localStorage.setItem('authorization', `Bearer ${res.data.token}`);\r\n\r\n              axios({\r\n                method: \"patch\",\r\n                url: \"http://localhost:4321/user/giveCourseAccess\",\r\n                headers: {\r\n                  \"authorization\": localStorage.getItem(\"authorization\")\r\n                },\r\n                data: {\r\n                  courseId\r\n                }\r\n              })\r\n              .then(res => {\r\n                console.log(res);\r\n                alert(\"Success shopping\");\r\n                window.location.replace(\"http://localhost:3000\");\r\n              })\r\n              .catch(function (error) {\r\n                if (error.response) {\r\n                  // The request was made and the server responded with a status code\r\n                  // that falls out of the range of 2xx\r\n                  console.log(error.response.data);\r\n                  alert(error.response.data.message);\r\n                  console.log(error.response.status);\r\n                  console.log(error.response.headers);\r\n                } else if (error.request) {\r\n                  // The request was made but no response was received\r\n                  // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n                  // http.ClientRequest in node.js\r\n                  console.log(error.request);\r\n                } else {\r\n                  // Something happened in setting up the request that triggered an Error\r\n                  console.log('Error', error.message);\r\n                }\r\n                console.log(error.config);\r\n              });\r\n\r\n            })\r\n            .catch(function (error) {\r\n              if (error.response) {\r\n                // The request was made and the server responded with a status code\r\n                // that falls out of the range of 2xx\r\n                console.log(error.response.data);\r\n                alert(error.response.data.message);\r\n                console.log(error.response.status);\r\n                console.log(error.response.headers);\r\n              } else if (error.request) {\r\n                // The request was made but no response was received\r\n                // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n                // http.ClientRequest in node.js\r\n                console.log(error.request);\r\n              } else {\r\n                // Something happened in setting up the request that triggered an Error\r\n                console.log('Error', error.message);\r\n              }\r\n              console.log(error.config);\r\n            });\r\n\r\n            \r\n\r\n          \r\n          // register the user by making a API call to user/signup\r\n          // localStorage.setItem('Authorization', rememberMe);\r\n          // once is register give accsess to brought course by making a API call to user/\r\n          // payment_intent.succeeded event that handles any business critical\r\n          // post-payment actions.\r\n        }\r\n      }\r\n    });\r\n    \r\n    /*\r\n    var response = fetch('/http://localhost:4321/checkout/').then(function(response) {\r\n        return response.json();\r\n      }).then(function(responseJson) {\r\n         clientSecret = responseJson.client_secret;\r\n        console.log(clientSecret);\r\n        // Render the form to collect payment details, then\r\n        // call stripe.confirmCardPayment() with the client secret.\r\n      });\r\n      */\r\n    \r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <input type=\"text\" placeholder=\"name\" name=\"name\" onChange={handleInputChange} id=\"\"/> <br/>\r\n      <input type=\"email\" placeholder=\"email\" name=\"email\" onChange={handleInputChange} id=\"\"/> <br/>\r\n      <input type=\"password\" placeholder=\"password\" name=\"password\" onChange={handleInputChange} id=\"\"/> <br/>\r\n      <input type=\"password\" placeholder=\"repeat password\" name=\"confirmPassword\" onChange={handleInputChange} id=\"\"/> <br/>\r\n      <CardSection  />\r\n      <button disabled={!stripe}>Confirm order</button>\r\n    </form>\r\n  );\r\n}","C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\payment-card\\payment-card.component.jsx",[],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\pages\\SubmitCoursePage\\SubmitCoursePage.component.jsx",["60","61"],"C:\\Users\\computador\\Documents\\1_proyecos\\Pro-Proyects\\Learning-Platform\\SPA Learning Platform\\my-spa\\src\\components\\input\\input.component.jsx",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":18,"column":5,"nodeType":"68","messageId":"69","endLine":34,"endColumn":6},{"ruleId":"70","severity":1,"message":"71","line":49,"column":9,"nodeType":"72","messageId":"73","endLine":49,"endColumn":21},{"ruleId":"70","severity":1,"message":"74","line":1,"column":16,"nodeType":"72","messageId":"73","endLine":1,"endColumn":25},{"ruleId":"66","severity":1,"message":"67","line":17,"column":9,"nodeType":"68","messageId":"69","endLine":32,"endColumn":10},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"default-case","Expected a default case.","SwitchStatement","missingDefaultCase","no-unused-vars","'clientSecret' is defined but never used.","Identifier","unusedVar","'Component' is defined but never used.","no-global-assign","no-unsafe-negation"]